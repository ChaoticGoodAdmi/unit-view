<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Список ДСЕ</title>
    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
    <link th:href="@{/css/table.css}" rel="stylesheet" media="screen"/>
</head>
<body>
<div class="table-responsive">
    <table class="table table-sm table-striped table-hover">
        <thead class="thead-dark">
        <th scope="col">Артикул</th>
        <th scope="col">Гравировка</th>
        <th scope="col">Наименование</th>
        <th scope="col">Группа</th>
        <th scope="col">Примечание</th>
        </thead>
        <tbody>
        <tr th:each="unit : ${units.content}" class="clickable-row" th:data-href="@{/api/units/{id}(id = ${unit.id})}">
            <td th:text="${unit.article}"></td>
            <td th:text="${unit.title}"></td>
            <td th:text="${unit.description}"></td>
            <td th:text="${unit.groupId}"></td>
            <td th:text="${unit.notes}"></td>
        </tr>
        </tbody>
    </table>
</div>

<nav aria-label="Pagination" th:if="${units.totalPages gt 0}">
    <ul class="pagination justify-content-center font-weight-medium">
        <li class="page-item" th:classappend="${units.number eq 0} ? 'disabled'">
            <a class="page-link svg-icon"
               th:href="@{/api/units/all(page=${units.number lt 2 ? 1 : units.number}, search=${#request.getParameter('search')})}"
               aria-label="Previous"
               title="Previous Page" rel="tooltip">
                <span aria-hidden="true" data-feather="chevrons-left" width="20" height="20">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/></svg>
                </span>
            </a>
        </li>
        <li class="page-item" th:classappend="${i eq units.number + 1} ? 'active'"
            th:each="i : ${#numbers.sequence( units.number + 1, units.totalPages > 10 + units.number ? units.number + 10 : units.totalPages, 1)}">
            <a class="page-link" th:href="@{/api/units/all(page=${i}, search=${#request.getParameter('search')})}" th:text="${i}"
               th:title="${'Page '+ i}"
               rel="tooltip"></a>
        </li>
        <li class="page-item" th:classappend="${units.number + 1 eq units.totalPages} ? 'disabled'">
            <a class="page-link svg-icon" th:href="@{/api/units/all(page=${units.number + 2}, search=${#request.getParameter('search')})}"
               aria-label="Next"
               title="Next Page" rel="tooltip">
                <span aria-hidden="false" data-feather="chevrons-right" width="20" height="20">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-right" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                    </svg>
                </span>
            </a>
        </li>
        <li class="page-item" th:classappend="${units.number + 10 ge units.totalPages} ? 'disabled'">
            <a class="page-link svg-icon" th:href="@{/api/units/all(page=${units.number + 11}, search=${#request.getParameter('search')})}"
               aria-label="Next"
               title="+10 pages" rel="tooltip">
                <span aria-hidden="false" data-feather="chevrons-right" width="20" height="20">+10</span>
            </a>
        </li>
    </ul>
</nav>

</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script>
    jQuery(document).ready(function ($) {
        $(".clickable-row").click(function () {
            window.location = $(this).data("href");
        });
    });
</script>
</html>